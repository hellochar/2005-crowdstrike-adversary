(this["webpackJsonp2005-crowdstrike-adversary"]=this["webpackJsonp2005-crowdstrike-adversary"]||[]).push([[0],{263:function(e,t,n){},264:function(e,t,n){},265:function(e,t,n){"use strict";n.r(t);var a=n(6),o=n(0),i=n.n(o),r=n(110),s=n.n(r),c=n(54),l=n(9),u=(n(262),n(3)),h=n(4),m=n(114),d=n(1),p=n(5),f=n(2),b=n(118),v=n(119),g=n(115),x=n(24);function y(e){for(var t="",n=0;n<(arguments.length<=1?0:arguments.length-1);n++)t+=e[n],t+=n+1<1||arguments.length<=n+1?void 0:arguments[n+1];return t+=e[e.length-1]}function j(){var e=Object(x.a)(["\n//\tClassic Perlin 2D Noise \n//\tby Stefan Gustavson\n//\nvec2 fade(vec2 t) {return t*t*t*(t*(t*6.0-15.0)+10.0);}\nvec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}\nvec4 taylorInvSqrt(vec4 r){return 1.79284291400159 - 0.85373472095314 * r;}\n\n\nfloat cnoise(vec2 P){\n  vec4 Pi = floor(P.xyxy) + vec4(0.0, 0.0, 1.0, 1.0);\n  vec4 Pf = fract(P.xyxy) - vec4(0.0, 0.0, 1.0, 1.0);\n  Pi = mod(Pi, 289.0); // To avoid truncation effects in permutation\n  vec4 ix = Pi.xzxz;\n  vec4 iy = Pi.yyww;\n  vec4 fx = Pf.xzxz;\n  vec4 fy = Pf.yyww;\n  vec4 i = permute(permute(ix) + iy);\n  vec4 gx = 2.0 * fract(i * 0.0243902439) - 1.0; // 1/41 = 0.024...\n  vec4 gy = abs(gx) - 0.5;\n  vec4 tx = floor(gx + 0.5);\n  gx = gx - tx;\n  vec2 g00 = vec2(gx.x,gy.x);\n  vec2 g10 = vec2(gx.y,gy.y);\n  vec2 g01 = vec2(gx.z,gy.z);\n  vec2 g11 = vec2(gx.w,gy.w);\n  vec4 norm = 1.79284291400159 - 0.85373472095314 * \n    vec4(dot(g00, g00), dot(g01, g01), dot(g10, g10), dot(g11, g11));\n  g00 *= norm.x;\n  g01 *= norm.y;\n  g10 *= norm.z;\n  g11 *= norm.w;\n  float n00 = dot(g00, vec2(fx.x, fy.x));\n  float n10 = dot(g10, vec2(fx.y, fy.y));\n  float n01 = dot(g01, vec2(fx.z, fy.z));\n  float n11 = dot(g11, vec2(fx.w, fy.w));\n  vec2 fade_xy = fade(Pf.xy);\n  vec2 n_x = mix(vec2(n00, n01), vec2(n10, n11), fade_xy.x);\n  float n_xy = mix(n_x.x, n_x.y, fade_xy.y);\n  return 2.3 * n_xy;\n}\n"]);return j=function(){return e},e}var O=y(j()),w=n(13);function E(){var e=Object(x.a)(["\nuniform sampler2D tSource;\nuniform vec3[10] gradient;\nuniform int gradientLength;\nuniform bool transparency;\nuniform bool enabled;\nuniform float maxBrightness;\nuniform float minBrightness;\n\nvarying vec2 vUv;\n\nvec4 getGradientColor(float t) {\n  float tOnGradient = t * float(gradientLength);\n  int lowStop = int(tOnGradient);\n  int highStop = int(tOnGradient) + 1;\n  float lerpAmount = tOnGradient - float(lowStop);\n\n  vec3 colorLow = gradient[lowStop];\n  vec3 colorHigh = gradient[highStop];\n\n  float alpha = 1.0;\n  if (transparency && lowStop == 0) {\n    alpha = lerpAmount;\n  }\n\n  return vec4(mix(colorLow, colorHigh, lerpAmount), alpha);\n}\n\nvoid main() {\n  vec4 baseColor = texture2D( tSource, vUv );\n\n  if (enabled) {\n    float brightness = dot(baseColor.rgb, vec3(0.299, 0.587, 0.114));\n    float normalizedBrightness = smoothstep(minBrightness, maxBrightness, brightness);\n\n    vec4 outColor = getGradientColor(normalizedBrightness);\n\n    gl_FragColor = outColor;\n  } else {\n    gl_FragColor = baseColor;\n  }\n}\n"]);return E=function(){return e},e}function T(){var e=Object(x.a)(["\nvarying vec2 vUv;\n\nvoid main() {\n  vUv = uv;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}\n"]);return T=function(){return e},e}var P=function(){function e(t,n,a,o){Object(d.a)(this,e),this.source=t,this.maxBrightness=a,this.minBrightness=o,this.target=void 0,this.fsQuad=void 0,this.material=void 0,this.target=new f.y(2048,2048),this.material=new A(t,n,a,o),this.fsQuad=new w.a.FullScreenQuad(this.material)}return Object(p.a)(e,[{key:"texture",get:function(){return this.target.texture}}]),Object(p.a)(e,[{key:"setTextureBase",value:function(e){this.source=e,this.material.uniforms.tSource.value=this.source,this.material.needsUpdate=!0}},{key:"render",value:function(e){e.setRenderTarget(this.target),this.fsQuad.render(e),e.setRenderTarget(null)}}]),e}(),A=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e,a,o,i){var r;return Object(d.a)(this,n),r=t.call(this,{uniforms:{tSource:{value:e},gradient:{value:new Array(10).fill(0).map((function(){return new f.c}))},gradientLength:{value:0},transparency:{value:!0},enabled:{value:!0},maxBrightness:{value:o},minBrightness:{value:i}},vertexShader:S,fragmentShader:k,transparent:!0}),console.log(i,o),r.update(a),r.needsUpdate=!0,r}return Object(p.a)(n,[{key:"update",value:function(e){var t=this,n=e.gradient.split(" ").map((function(e){return new f.c(e)})),a=n.length;n.forEach((function(e,n){t.uniforms.gradient.value[n]=e})),this.uniforms.gradientLength.value=a,this.uniforms.transparency.value=e.gradientTransparency,this.uniforms.enabled.value=e.gradientEnabled,this.needsUpdate=!0}}]),n}(f.q),S=y(T()),k=y(E());function M(){var e=Object(x.a)(["\nvarying vec2 vUv;\nuniform sampler2D map;\n\nvoid main() {\n  gl_FragColor = texture2D( map, vUv );\n}\n"]);return M=function(){return e},e}function L(){var e=Object(x.a)(["\nuniform float displacementScale;\nuniform sampler2D baseTexture;\nuniform float time;\n\nuniform float breatheWaviness; // 2.2\nuniform float breatheSpeed; // 1.0\nuniform float breatheWholeBodyMovement; // 2.0\nuniform float breatheTallPointExaggeration; // 20\nuniform float breatheNoiseSpeed; // 0.2\nuniform float breatheNoiseAmount; // 4\nuniform float breatheZAmount; // [-1, 1]\nuniform float breatheXYAmount; // [-1, 1]\n\nvarying vec2 vUv;\n\n","\n\nvoid main() {\n  vUv = uv;\n\n  vec4 baseColor = texture2D( baseTexture, vUv );\n  float brightness = dot(baseColor.rgb, vec3(0.299, 0.587, 0.114));\n\n  vec3 transformed = position;\n\n  vec2 offset = vec2(0., 0.);\n\n  float t = time + (1.0 + length(transformed.xy)) / 100.0 * breatheWaviness;\n  t *= breatheSpeed;\n\n  // make the entire thing expand and shrink\n  offset += transformed.xy / 100.0 * (1.0 + sin(t)) * breatheWholeBodyMovement;\n\n  // make taller points expand/shrink more\n  offset += transformed.xy / 100.0 * (1.0 + sin(t)) * breatheTallPointExaggeration * brightness * brightness;\n\n  // add some flow noise to the taller points\n  float noiseTime = t * breatheNoiseSpeed;\n  offset += vec2(\n    cnoise(uv * 0.5 + vec2(noiseTime, 0)),\n    cnoise(uv * 0.5 + vec2(91.3 - noiseTime, -123.2 + noiseTime))\n  ) * breatheNoiseAmount * brightness;\n\n  float dz = displacementScale * brightness;\n  transformed.z += mix(dz, dz * length(offset) / 20., breatheZAmount);\n  transformed.xy += offset * breatheXYAmount;\n\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(transformed, 1.0);\n}\n"]);return L=function(){return e},e}var N=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e,a,o,i){var r;return Object(d.a)(this,n),(r=t.call(this,{uniforms:{breatheWaviness:{value:2.2},breatheSpeed:{value:1},breatheWholeBodyMovement:{value:2},breatheTallPointExaggeration:{value:20},breatheNoiseSpeed:{value:.2},breatheNoiseAmount:{value:4},breatheZAmount:{value:0},breatheXYAmount:{value:1},time:{value:0},displacementScale:{value:0},baseTexture:{value:e},map:{value:null}},fragmentShader:D,vertexShader:R,side:f.d,transparent:!0})).baseTexture=e,r.minBrightness=a,r.maxBrightness=o,r.gradientEffect=i,r.textureCache={},r.activeTexture="Buffalo",r.updateMap(),r}return Object(p.a)(n,[{key:"setTextureBase",value:function(e){this.baseTexture=e,this.gradientEffect.setTextureBase(e),this.uniforms.baseTexture.value=this.baseTexture,this.needsUpdate=!0}},{key:"updateMap",value:function(){X.gradientEnabled?this.uniforms.map.value=this.gradientEffect.texture:this.uniforms.map.value=this.baseTexture,this.needsUpdate=!0}},{key:"setState",value:function(e){this.updateMap(),this.uniforms.breatheWaviness.value=e.breatheWaviness,this.uniforms.breatheSpeed.value=e.breatheSpeed,this.uniforms.breatheWholeBodyMovement.value=e.breatheWholeBodyMovement,this.uniforms.breatheTallPointExaggeration.value=e.breatheTallPointExaggeration,this.uniforms.breatheNoiseSpeed.value=e.breatheNoiseSpeed,this.uniforms.breatheNoiseAmount.value=e.breatheNoiseAmount,this.uniforms.breatheZAmount.value=e.breatheZAmount,this.uniforms.breatheXYAmount.value=e.breatheXYAmount}},{key:"animate",value:function(e,t){this.uniforms.time.value=t,this.uniforms.displacementScale.value=e,this.gradientEffect.material.update(X),this.gradientEffect.render(Y.renderer),this.needsUpdate=!0}}],[{key:"create",value:function(e){return new n(null,0,.9,new P(null,e,.9,0))}}]),n}(f.q),R=y(L(),O),D=y(M()),C=function(e,t){void 0===t&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),t===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=e,this.domElement=t,this.enabled=!0,this.target=new f.x,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={LEFT:f.h.ROTATE,MIDDLE:f.h.DOLLY,RIGHT:f.h.PAN},this.touches={ONE:f.s.ROTATE,TWO:f.s.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return l.phi},this.getAzimuthalAngle=function(){return l.theta},this.saveState=function(){n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.getState=function(){return{target0:n.target0.clone(),position0:n.position0.clone(),zoom0:n.zoom0}},this.loadState=function(e){n.target.copy(e.target0),n.object.position.copy(e.position0),n.object.zoom=e.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(a),n.update()},this.reset=function(){n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(a),n.update(),s=r.NONE},this.update=function(){var t=new f.x,o=(new f.n).setFromUnitVectors(e.up,new f.x(0,1,0)),i=o.clone().inverse(),p=new f.x,b=new f.n,v=2*Math.PI;return function(){var e=n.object.position;t.copy(e).sub(n.target),t.applyQuaternion(o),l.setFromVector3(t),n.autoRotate&&s===r.NONE&&T(2*Math.PI/60/60*n.autoRotateSpeed),n.enableDamping?(l.theta+=u.theta*n.dampingFactor,l.phi+=u.phi*n.dampingFactor):(l.theta+=u.theta,l.phi+=u.phi);var f=n.minAzimuthAngle,g=n.maxAzimuthAngle;return isFinite(f)&&isFinite(g)&&(f<-Math.PI?f+=v:f>Math.PI&&(f-=v),g<-Math.PI?g+=v:g>Math.PI&&(g-=v),l.theta=f<=g?Math.max(f,Math.min(g,l.theta)):l.theta>(f+g)/2?Math.max(f,l.theta):Math.min(g,l.theta)),l.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,l.phi)),l.makeSafe(),l.radius*=h,l.radius=Math.max(n.minDistance,Math.min(n.maxDistance,l.radius)),!0===n.enableDamping?n.target.addScaledVector(m,n.dampingFactor):n.target.add(m),t.setFromSpherical(l),t.applyQuaternion(i),e.copy(n.target).add(t),n.object.lookAt(n.target),!0===n.enableDamping?(u.theta*=1-n.dampingFactor,u.phi*=1-n.dampingFactor,m.multiplyScalar(1-n.dampingFactor)):(u.set(0,0,0),m.set(0,0,0)),h=1,!!(d||p.distanceToSquared(n.object.position)>c||8*(1-b.dot(n.object.quaternion))>c)&&(n.dispatchEvent(a),p.copy(n.object.position),b.copy(n.object.quaternion),d=!1,!0)}}(),this.dispose=function(){n.domElement.removeEventListener("contextmenu",V,!1),n.domElement.removeEventListener("pointerdown",B,!1),n.domElement.removeEventListener("wheel",H,!1),n.domElement.removeEventListener("touchstart",X,!1),n.domElement.removeEventListener("touchend",G,!1),n.domElement.removeEventListener("touchmove",Z,!1),n.domElement.ownerDocument.removeEventListener("pointermove",U,!1),n.domElement.ownerDocument.removeEventListener("pointerup",_,!1),n.domElement.removeEventListener("keydown",W,!1)};var n=this,a={type:"change"},o={type:"start"},i={type:"end"},r={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},s=r.NONE,c=1e-6,l=new f.r;n.spherical=l;var u=new f.r,h=1,m=new f.x,d=!1,p=new f.w,b=new f.w,v=new f.w,g=new f.w,x=new f.w,y=new f.w,j=new f.w,O=new f.w,w=new f.w;function E(){return Math.pow(.95,n.zoomSpeed)}function T(e){u.theta-=e}function P(e){u.phi-=e}n.rotateLeft=T,n.rotateUp=P;var A=function(){var e=new f.x;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),m.add(e)}}(),S=function(){var e=new f.x;return function(t,a){!0===n.screenSpacePanning?e.setFromMatrixColumn(a,1):(e.setFromMatrixColumn(a,0),e.crossVectors(n.object.up,e)),e.multiplyScalar(t),m.add(e)}}(),k=function(){var e=new f.x;return function(t,a){var o=n.domElement;if(n.object.isPerspectiveCamera){var i=n.object.position;e.copy(i).sub(n.target);var r=e.length();r*=Math.tan(n.object.fov/2*Math.PI/180),A(2*t*r/o.clientHeight,n.object.matrix),S(2*a*r/o.clientHeight,n.object.matrix)}else n.object.isOrthographicCamera?(A(t*(n.object.right-n.object.left)/n.object.zoom/o.clientWidth,n.object.matrix),S(a*(n.object.top-n.object.bottom)/n.object.zoom/o.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}}();function M(e){n.object.isPerspectiveCamera?h/=e:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom*e)),n.object.updateProjectionMatrix(),d=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function L(e){n.object.isPerspectiveCamera?h*=e:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/e)),n.object.updateProjectionMatrix(),d=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function N(e){p.set(e.clientX,e.clientY)}function R(e){g.set(e.clientX,e.clientY)}function D(e){if(1==e.touches.length)p.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);p.set(t,n)}}function C(e){if(1==e.touches.length)g.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);g.set(t,n)}}function z(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,a=Math.sqrt(t*t+n*n);j.set(0,a)}function Y(e){if(1==e.touches.length)b.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),a=.5*(e.touches[0].pageY+e.touches[1].pageY);b.set(t,a)}v.subVectors(b,p).multiplyScalar(n.rotateSpeed);var o=n.domElement;T(2*Math.PI*v.x/o.clientHeight),P(2*Math.PI*v.y/o.clientHeight),p.copy(b)}function I(e){if(1==e.touches.length)x.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),a=.5*(e.touches[0].pageY+e.touches[1].pageY);x.set(t,a)}y.subVectors(x,g).multiplyScalar(n.panSpeed),k(y.x,y.y),g.copy(x)}function F(e){var t=e.touches[0].pageX-e.touches[1].pageX,a=e.touches[0].pageY-e.touches[1].pageY,o=Math.sqrt(t*t+a*a);O.set(0,o),w.set(0,Math.pow(O.y/j.y,n.zoomSpeed)),M(w.y),j.copy(O)}function B(e){if(!1!==n.enabled)switch(e.pointerType){case"mouse":case"pen":!function(e){var t;switch(e.preventDefault(),n.domElement.focus?n.domElement.focus():window.focus(),e.button){case 0:t=n.mouseButtons.LEFT;break;case 1:t=n.mouseButtons.MIDDLE;break;case 2:t=n.mouseButtons.RIGHT;break;default:t=-1}switch(t){case f.h.DOLLY:if(!1===n.enableZoom)return;!function(e){j.set(e.clientX,e.clientY)}(e),s=r.DOLLY;break;case f.h.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enablePan)return;R(e),s=r.PAN}else{if(!1===n.enableRotate)return;N(e),s=r.ROTATE}break;case f.h.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enableRotate)return;N(e),s=r.ROTATE}else{if(!1===n.enablePan)return;R(e),s=r.PAN}break;default:s=r.NONE}s!==r.NONE&&(n.domElement.ownerDocument.addEventListener("pointermove",U,!1),n.domElement.ownerDocument.addEventListener("pointerup",_,!1),n.dispatchEvent(o))}(e)}}function U(e){if(!1!==n.enabled)switch(e.pointerType){case"mouse":case"pen":!function(e){if(!1===n.enabled)return;switch(e.preventDefault(),s){case r.ROTATE:if(!1===n.enableRotate)return;!function(e){b.set(e.clientX,e.clientY),v.subVectors(b,p).multiplyScalar(n.rotateSpeed);var t=n.domElement;T(2*Math.PI*v.x/t.clientHeight),P(2*Math.PI*v.y/t.clientHeight),p.copy(b),n.update()}(e);break;case r.DOLLY:if(!1===n.enableZoom)return;!function(e){O.set(e.clientX,e.clientY),w.subVectors(O,j),w.y>0?M(E()):w.y<0&&L(E()),j.copy(O),n.update()}(e);break;case r.PAN:if(!1===n.enablePan)return;!function(e){x.set(e.clientX,e.clientY),y.subVectors(x,g).multiplyScalar(n.panSpeed),k(y.x,y.y),g.copy(x),n.update()}(e)}}(e)}}function _(e){switch(e.pointerType){case"mouse":case"pen":!function(e){if(n.domElement.ownerDocument.removeEventListener("pointermove",U,!1),n.domElement.ownerDocument.removeEventListener("pointerup",_,!1),!1===n.enabled)return;n.dispatchEvent(i),s=r.NONE}()}}function H(e){!1===n.enabled||!1===n.enableZoom||s!==r.NONE&&s!==r.ROTATE||(e.preventDefault(),e.stopPropagation(),n.dispatchEvent(o),function(e){e.deltaY<0?L(E()):e.deltaY>0&&M(E()),n.update()}(e),n.dispatchEvent(i))}function W(e){!1!==n.enabled&&!1!==n.enableKeys&&!1!==n.enablePan&&function(e){var t=!1;switch(e.keyCode){case n.keys.UP:k(0,n.keyPanSpeed),t=!0;break;case n.keys.BOTTOM:k(0,-n.keyPanSpeed),t=!0;break;case n.keys.LEFT:k(n.keyPanSpeed,0),t=!0;break;case n.keys.RIGHT:k(-n.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),n.update())}(e)}function X(e){if(!1!==n.enabled){switch(e.preventDefault(),e.touches.length){case 1:switch(n.touches.ONE){case f.s.ROTATE:if(!1===n.enableRotate)return;D(e),s=r.TOUCH_ROTATE;break;case f.s.PAN:if(!1===n.enablePan)return;C(e),s=r.TOUCH_PAN;break;default:s=r.NONE}break;case 2:switch(n.touches.TWO){case f.s.DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;!function(e){n.enableZoom&&z(e),n.enablePan&&C(e)}(e),s=r.TOUCH_DOLLY_PAN;break;case f.s.DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;!function(e){n.enableZoom&&z(e),n.enableRotate&&D(e)}(e),s=r.TOUCH_DOLLY_ROTATE;break;default:s=r.NONE}break;default:s=r.NONE}s!==r.NONE&&n.dispatchEvent(o)}}function Z(e){if(!1!==n.enabled)switch(e.preventDefault(),e.stopPropagation(),s){case r.TOUCH_ROTATE:if(!1===n.enableRotate)return;Y(e),n.update();break;case r.TOUCH_PAN:if(!1===n.enablePan)return;I(e),n.update();break;case r.TOUCH_DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;!function(e){n.enableZoom&&F(e),n.enablePan&&I(e)}(e),n.update();break;case r.TOUCH_DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;!function(e){n.enableZoom&&F(e),n.enableRotate&&Y(e)}(e),n.update();break;default:s=r.NONE}}function G(e){!1!==n.enabled&&(n.dispatchEvent(i),s=r.NONE)}function V(e){!1!==n.enabled&&e.preventDefault()}n.domElement.addEventListener("contextmenu",V,!1),n.domElement.addEventListener("pointerdown",B,!1),n.domElement.addEventListener("wheel",H,!1),n.domElement.addEventListener("touchstart",X,!1),n.domElement.addEventListener("touchend",G,!1),n.domElement.addEventListener("touchmove",Z,!1),n.domElement.addEventListener("keydown",W,!1),this.update()};(C.prototype=Object.create(f.f.prototype)).constructor=C;var z=function(e,t){C.call(this,e,t),this.screenSpacePanning=!1,this.mouseButtons.LEFT=f.h.PAN,this.mouseButtons.RIGHT=f.h.ROTATE,this.touches.ONE=f.s.PAN,this.touches.TWO=f.s.DOLLY_ROTATE};(z.prototype=Object.create(f.f.prototype)).constructor=z;var Y,I=function(){function e(t,n){var a=this;Object(d.a)(this,e),this.canvas=t,this.state=n,this.renderer=void 0,this.scene=void 0,this.camera=void 0,this.controls=void 0,this.adversary=void 0,this.composer=void 0,this.filmPass=void 0,this.mouse=new f.w,this.spherical0=void 0,this.handleMouseMove=function(e){e.preventDefault();var t=window.innerWidth/window.innerHeight;if(a.mouse.x=(e.clientX/window.innerWidth*2-1)*t,a.mouse.y=2*(1-e.clientY/window.innerHeight)-1,a.state.parallaxEnabled&&a.state.parallaxRespondsToMouseMovement){var n=Math.PI/4*a.state.parallaxIntensity/window.innerHeight*3;a.controls.rotateLeft(-n*e.movementX),a.controls.rotateUp(-n*e.movementY)}},this.cameraTarget=void 0,this.handleWindowResize=function(){a.renderer.setSize(window.innerWidth,window.innerHeight);var e=window.innerWidth/window.innerHeight,t=150;a.camera.left=-150*e,a.camera.right=t*e,a.camera.top=t,a.camera.bottom=-150,a.camera.updateProjectionMatrix()},this.animate=function(){var e;requestAnimationFrame(a.animate),null!=a.cameraTarget?a.updateCameraTarget():(a.state.parallaxEnabled&&a.updateCameraParallax(),a.controls.update()),null===(e=a.adversary)||void 0===e||e.animate(),a.composer.render()},this.renderer=new f.z({canvas:t}),this.renderer.setPixelRatio(window.devicePixelRatio),this.scene=new f.p,this.camera=new f.k(-1,1,1,-1,-9999,9999),this.camera.position.set(0,0,100),this.camera.lookAt(0,0,0),this.handleWindowResize(),window.addEventListener("resize",this.handleWindowResize),window.addEventListener("mousemove",this.handleMouseMove),this.scene.add(new f.a(16777215)),this.scene.background=new f.c(1,1,1);var o=N.create(this.state);this.adversary=new F(o),this.scene.add(this.adversary),this.setAdversary("Buffalo"),this.controls=new C(this.camera,this.canvas),this.spherical0=new f.r,this.spherical0.setFromVector3(this.camera.position),this.composer=new b.a(this.renderer),this.composer.addPass(new g.a(this.scene,this.camera)),this.filmPass=new v.a(0,0,4096,0),this.composer.addPass(this.filmPass),this.setState(n),requestAnimationFrame(this.animate)}return Object(p.a)(e,[{key:"setImage",value:function(e){var t=new f.t(e);e.onload=function(){t.needsUpdate=!0},this.setAdversaryTexture(t)}},{key:"setAdversary",value:function(e){var t=this;(new f.u).load("/2005-crowdstrike-adversary/adversaries/".concat(e,".jpg"),(function(e){t.setAdversaryTexture(e)}),(function(e){return console.log(e)}),(function(e){return console.error(e)}))}},{key:"setState",value:function(e){this.state=e,this.filmPass.uniforms.nIntensity.value=e.noiseIntensity,this.filmPass.uniforms.sIntensity.value=e.scanlineIntensity,this.adversary.material.setState(e),this.scene.background.set(e.background)}},{key:"goDiagonalView",value:function(){this.cameraTarget=new f.x(0,0,100),this.cameraTarget.applyEuler(new f.e(Math.PI/6,Math.PI/6))}},{key:"goFrontalView",value:function(){this.cameraTarget=new f.x(0,0,100)}},{key:"setAdversaryTexture",value:function(e){this.adversary.material.setTextureBase(e),this.composer.render()}},{key:"updateCameraTarget",value:function(){null!=this.cameraTarget&&(this.camera.position.distanceTo(this.cameraTarget)<1?(this.camera.position.copy(this.cameraTarget),this.camera.lookAt(0,0,0),delete this.cameraTarget):(this.camera.position.lerp(this.cameraTarget,.1),this.camera.lookAt(0,0,0)))}},{key:"updateCameraParallax",value:function(){var e=this.controls;if(this.state.parallaxRespondsToMouseMovement){var t=.1*Math.pow(2,this.state.parallaxReturnSpeed-3),n=new f.r;n.setFromVector3(this.camera.position),e.rotateLeft((n.theta-this.spherical0.theta)*t),e.rotateUp((n.phi-this.spherical0.phi)*t)}else{e.target.copy(e.target0),e.object.position.copy(e.position0);var a=Math.PI/4*this.state.parallaxIntensity;e.rotateLeft(-a*this.mouse.x),e.rotateUp(a*this.mouse.y)}}},{key:"generateDisplacementMappedGeometry",value:function(e){var t=document.createElement("canvas");t.width=e.width/10,t.height=e.height/10;var n=t.getContext("2d");if(n){n.drawImage(e,0,0,t.width,t.height);var a,o=t.width,i=t.height,r=n.getImageData(0,0,o,i),s=new f.m(o-1,i-1,o-1,i-1),c=Object(m.a)(s.vertices);try{for(c.s();!(a=c.n()).done;){var l=a.value,u=4*(f.i.mapLinear(l.x-.5,-o/2,o/2,0,o)+o*f.i.mapLinear(l.y-.5,i/2,-i/2,0,i)),h=.2126*(r.data[u]/255)+.7152*(r.data[u+1]/255)+.0722*(r.data[u+2]/255);l.z=20*h}}catch(p){c.e(p)}finally{c.f()}var d=200/Math.max(o,i);return s.scale(d,d,1),s.computeFlatVertexNormals(),s}}}]),e}(),F=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,n.GEOMETRY,e)).timeStarted=performance.now(),a}return Object(p.a)(n,[{key:"animate",value:function(){var e,t,n,a=(performance.now()-this.timeStarted)/1e3,o=(e=0,t=5,n=a,(n=f.i.clamp((n-e)/(t-e),0,1))*n*(3-2*n)*X.growLength/this.material.maxBrightness);this.material.animate(o,a),this.position.z=-o/2}}]),n}(f.j);F.GEOMETRY=new f.m(200,200,512,512);var B=function(e){var t=e.img,n=e.state,r=Object(o.useRef)(),s=i.a.useCallback((function(e){null!=e&&(r.current=new I(e,n),Y=r.current)}),[]);return Object(o.useEffect)((function(){null!=r.current&&null!=t&&r.current.setImage(t)}),[t]),Object(o.useEffect)((function(){null!=r.current&&r.current.setState(n)}),[n]),Object(a.jsx)("canvas",{ref:s})},U=(n(263),["Buffalo","Chollima","CozyBear","DopplerSpider","MazePanda","PinchySpider","Venomous","Wicked","Carbon","Cobalt","DeadEye","HammerPanda","Mythic","Remix Kitten","Viceroy","Wizard"]),_=n(53),H=n(117),W=function(e){var t=e.onGotImage,n=Object(o.useCallback)((function(e,n,a){e.forEach((function(e){var n=new FileReader;n.onabort=function(){return console.log("file reading was aborted")},n.onerror=function(){return console.log("file reading has failed")},n.onload=function(){var e=document.createElement("img");e.src=n.result,t(e)},n.readAsDataURL(e)}))}),[t]),i=Object(H.a)({onDrop:n,maxFiles:1}),r=i.getRootProps,s=i.getInputProps,c=i.isDragActive;return Object(a.jsxs)("div",Object(_.a)(Object(_.a)({className:"dropzone"},r()),{},{children:[Object(a.jsx)("input",Object(_.a)({},s())),c?Object(a.jsx)("p",{children:"Drop the files here ..."}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("p",{children:"Drag 'n' drop some files here, or click to select files"}),Object(a.jsxs)("p",{children:["Press ",Object(a.jsx)("b",{children:"Z"})," to toggle the UI"]})]})]}))},X={background:"#808080",growLength:50,noiseIntensity:.25,scanlineIntensity:0,parallaxEnabled:!1,parallaxIntensity:.5,parallaxRespondsToMouseMovement:!1,parallaxReturnSpeed:3,gradientEnabled:!0,gradient:"#131B1D #31474D #FC0000 #ABABAB #FFFFFF",gradientTransparency:!0,breatheWaviness:2.2,breatheSpeed:1,breatheWholeBodyMovement:2,breatheTallPointExaggeration:20,breatheNoiseSpeed:.2,breatheNoiseAmount:4,breatheZAmount:0,breatheXYAmount:1};var Z=function(){return Object(a.jsx)("div",{className:"adversaries-list",children:U.map((function(e){return Object(a.jsx)("h1",{onMouseOver:function(){return function(e){Y.setAdversary(e)}(e)},children:e})}))})},G=function(){var e=Object(o.useState)(),t=Object(c.a)(e,2),n=t[0],i=t[1],r=Object(o.useState)(X),s=Object(c.a)(r,2),u=s[0],h=s[1],m=Object(o.useState)(!0),d=Object(c.a)(m,2),p=d[0],f=d[1];Object(o.useEffect)((function(){Object.assign(X,u)}),[u]),Object(o.useEffect)((function(){var e=function(e){"KeyZ"===e.code&&f((function(e){return!e}))};return window.addEventListener("keyup",e),function(){window.removeEventListener("keyup",e)}}));var b=Object(o.useCallback)((function(){null===Y||void 0===Y||Y.goFrontalView()}),[]),v=Object(o.useCallback)((function(){null===Y||void 0===Y||Y.goDiagonalView()}),[]);return Object(a.jsxs)("div",{className:"App".concat(p?"":" hide-ui"),children:[Object(a.jsx)(B,{img:n,state:u}),Object(a.jsx)(W,{onGotImage:i}),Object(a.jsx)(Z,{}),Object(a.jsxs)(l.g,{data:u,onUpdate:h,children:[Object(a.jsx)(l.c,{path:"background",label:"Background"}),Object(a.jsx)(l.e,{path:"growLength",label:"Grow Length",min:0,max:500,step:5}),Object(a.jsxs)(l.d,{closed:!0,title:"Postprocessing",children:[Object(a.jsx)(l.e,{path:"noiseIntensity",label:"Noise",min:0,max:1,step:.01}),Object(a.jsx)(l.e,{path:"scanlineIntensity",label:"Scanlines",min:0,max:1,step:.01})]}),Object(a.jsxs)(l.d,{closed:!0,title:"Parallax",children:[Object(a.jsx)(l.a,{path:"parallaxEnabled",label:"Parallax Enabled?"}),Object(a.jsx)(l.e,{path:"parallaxIntensity",label:"Intensity",min:0,max:2,step:.01}),Object(a.jsx)(l.a,{path:"parallaxRespondsToMouseMovement",label:"Returns to 0?"}),Object(a.jsx)(l.e,{path:"parallaxReturnSpeed",label:"Return to 0 Speed",min:0,max:6,step:.1})]}),Object(a.jsxs)(l.d,{closed:!0,title:"Gradient",children:[Object(a.jsx)(l.a,{path:"gradientEnabled",label:"Gradient Enabled?"}),Object(a.jsx)(l.f,{path:"gradient",label:"Gradient"}),Object(a.jsx)(l.a,{path:"gradientTransparency",label:"Transparency?"})]}),Object(a.jsxs)(l.d,{title:"Breathe",closed:!0,children:[Object(a.jsx)(l.e,{label:"Z Amount",path:"breatheZAmount",min:-1,max:1,step:.01}),Object(a.jsx)(l.e,{label:"XY Amount",path:"breatheXYAmount",min:-1,max:1,step:.01}),Object(a.jsx)(l.e,{label:"Speed",path:"breatheSpeed",min:0,max:5,step:.01}),Object(a.jsx)(l.e,{label:"Tall Point Exaggeration",path:"breatheTallPointExaggeration",min:-100,max:100,step:1}),Object(a.jsx)(l.e,{label:"Waviness",path:"breatheWaviness",min:0,max:15,step:.1}),Object(a.jsx)(l.e,{label:"Whole Body Motion",path:"breatheWholeBodyMovement",min:-20,max:20,step:.01}),Object(a.jsx)(l.e,{label:"Noise Speed",path:"breatheNoiseSpeed",min:0,max:2,step:.01}),Object(a.jsx)(l.e,{label:"Noise Amount",path:"breatheNoiseAmount",min:0,max:10,step:.01})]}),Object(a.jsx)(l.b,{label:"Go to Frontal View",onClick:b}),Object(a.jsx)(l.b,{label:"Go to Diagonal View",onClick:v})]})]})},V=(n(264),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,266)).then((function(t){var n=t.getCLS,a=t.getFID,o=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),o(e),i(e),r(e)}))});s.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(G,{})}),document.getElementById("root")),V()}},[[265,1,2]]]);
//# sourceMappingURL=main.26c5e9d5.chunk.js.map